#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit hooks..."

# Run linters
echo "ğŸ“ Checking code quality..."
npm run lint:sol || exit 1
npm run format:check || exit 1

# Check for prohibited terms
echo "ğŸš« Checking for prohibited terms..."
if git diff --cached --name-only | xargs grep -l "dapp[0-9]\|zamadapp\|case[0-9]" 2>/dev/null; then
    echo "âŒ Error: Found prohibited terms (dapp+number, zamadapp, case+number)"
    echo "Please remove these terms before committing"
    exit 1
fi

# Check contract size
echo "ğŸ“ Checking contract size..."
npm run compile || exit 1

echo "âœ… Pre-commit checks passed!"
